<!DOCTYPE html>
<html>
<head>
	<title>Create Account</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  	<link rel="icon" href="./static/img/xamplanicon.ico">
</head>
<style type="text/css">
	#heading{
		background-color: #EB4146;
	}

</style>
<body>

	<div id="heading" class="container-fluid">
		
		<div  class="text-white text-center d-none d-md-block" ><img src="./static/img/xamplanwhite.png" style="height: 8vw;"> </div>
		<p class=" text-white text-center d-none d-md-block p-1" style="font-family: monospace; font-size: 2vw;" >Xam Plan</p>

		<div  class="text-white text-center d-md-none d-block" ><img src="./static/img/xamplanwhite.png" style="height: 18vw;"> </div>
		<p class=" text-white text-center d-md-none d-block p-1" style="font-family: monospace; font-size: 5vw;" >Xam Plan</p>

	</div>

	<div class="container bg-light p-2">

		<a class="btn m-3 w3-right" style="color: white; background-color: #363B4D;"  href="{{ url_for('main') }}"> Home </a>
		
		<div class="container row">
			<form action="{{ url_for('handle_create') }}"method='post' class=" col-12 col-md-6 justify-content-center" autocomplete="off">
				<div>
					<h1 class="w3-xxxlarge" style="color: #363B4D;"> Create Your Account </h1>
				</div>
				<input type="email" name="email" placeholder="Enter your email" class="w3-input w3-border w3-round-large w3-padding w3-margin" required="true">

				<input type="password" name="password1" id='password1' placeholder="Enter a password" class="w3-input w3-border w3-round-large w3-padding w3-margin" required="true">

				<input type="password" name="password2" id='password2' placeholder="Enter your password again" class="w3-input w3-border w3-round-large w3-padding w3-margin" required="true" onchange="checkMatch()" onclick="document.getElementById('createBtn').disabled = false; document.getElementById('passmsg').innerHTML = ''">
				
				<span id="passmsg" class="m-3 text-danger"></span>
				<br>
				<input type="submit" id='createBtn' class="btn m-3" style="color: white; background-color: #363B4D;" value="Create">
			</form>

		</div>
		<div class="container p-2">
			<p> Already have an account? <a style="color: #EB4146;" href="{{ url_for('login') }}">Sign In </a></p>
		</div>

	</div>

</body>
<script type="text/javascript">
	
function checkMatch(){
	console.log('change called')
	if (document.getElementById('password1').value != document.getElementById('password2').value){
		document.getElementById('createBtn').disabled = true;
		document.getElementById('passmsg').innerHTML = 'Passwords do not match'
	}

	else{
		document.getElementById('createBtn').disabled = false;
		document.getElementById('passmsg').innerHTML = ''
	}
}
</script>
</html>